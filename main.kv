#:import gch kivy.utils.get_color_from_hex
#:import sleep time.sleep
<MagicButton@MagicBehavior+MDIconButton>

<MySwiper@MDSwiperItem>

    RelativeLayout:

        MDCard :
            id : card
            size_hint_y: None
            adaptive_height : True
            elevation : 16
            radius : 14
            MDGridLayout:
                cols : 1
                MDLabel:
                    text: "Hi there! This is my wordup.\nSay something positive and inspire someone"
                    color: [0,0,0,1] 
                    halign : 'center'
                    bold : True    
                    size_hint_y: None
                    height: self.texture_size[1]

        MDBoxLayout:
            adaptive_height: True
            spacing: "12dp"

            MagicButton:
                id: icon_btn
                icon: ''
                user_font_size: "56sp"
                opposite_colors: True

            MDGridLayout:
                cols : 


                                            
                                                        

                            


<HomeScreen> :
    id : root_screen 
    MDGridLayout:
        cols : 1
        MDToolbar :
            id : toolbar
            type : "top"
            title : "WordUp"
            type_height : "medium"
            md_bg_color: gch("#7a0089")
            right_action_items : [["hand-heart-outline", lambda x : app.switch_screen("support", "up")], ["cogs"]]
            left_action_items : [["assets/su.png"]]
            padding : "12dp"
            elevation : 14
        MDBottomNavigation:
            panel_color : gch("#f7d9f0")
            on_panel_color : gch("#ffff00")

            MDBottomNavigationItem:
                name: 'home'
                icon: 'home'

                MDSwiper:
                    width_mult : 0
                    size_hint_y: None
                    height: root.height - toolbar.height - dp(40)
                    y: root.height - self.height - toolbar.height - dp(20)
                    on_swipe_right: 
                        self.get_current_item().ids.icon_btn.icon="assets/emoji-happy.jpeg"
                        self.get_current_item().ids.icon_btn.shake()
                    on_swipe_left:
                        self.get_current_item().ids.icon_btn.icon="assets/sad-cliparts.jpg"
                        self.get_current_item().ids.icon_btn.shake()
                        


                    MySwiper:

                    MySwiper:

                    MySwiper:

                    MySwiper:

                    MySwiper:
                    MySwiper:

                    MySwiper:

                    MySwiper:

                    MySwiper:

                    MySwiper:
                    MySwiper:

                    MySwiper:

                    MySwiper:

                    MySwiper:

                    MySwiper:
            MDBottomNavigationItem:
                name: 'word_ups'
                icon: 'account-tie-voice'

                MDLabel:
                    text: 'Your WordUps'
                    halign: 'center'

            MDBottomNavigationItem:
                name: 'report_screen'
                icon: 'mother-heart'

                MDLabel:
                    text: 'Help screen'
                    halign: 'center'

<SupportScreen>:
    MDGridLayout:
        cols : 1
        MDToolbar :
            id : toolbar
            type : "top"
            title : "Need some help?"
            type_height : "medium"
            md_bg_color: gch("#7a0089")
            left_action_items : [["arrow-left", lambda x : app.switch_screen("home","left")]]
            right_action_items : [["help", lambda x : print("help")]]
            padding : "12dp"
            elevation : 14
        MDCard :
            id : help_card
            size_hint_y: None
            height: dp(100)
            radius : [16,16,0,0]
            elevation : 16
            orientation: 'vertical'
            MDLabel:
                text: "If you are experiencing any abuse feel comfortable to report to any of the folowing:"
                color : 0,0,0,1
                size_hint: None, None
                height : help_card.height
                width : help_card.width
                halign : "center"
                font_size : 20
 

        ScrollView :
            MDList:
                MDCard :
                    id : trust_circle_card
                    size_hint_max_y: None
                    height: dp(200)
                    elevation : 14
                    radius : [16,16,0,0]
                    orientation: 'vertical'
                    padding : dp(10)
                    MDGridLayout:
                        cols : 1
                        padding : dp(5)
                        size_hint_y: None
                        height: int(trust_circle_card.height * 0.7)
                        MDLabel:
                            text: "Feeling low? Don't worry try to share how you feel about your current situation to your trust circles"
                            color: 0,0,0,1
                            halign : "center"
                    MDFloatLayout:
                        MDIconButton:
                            icon: "human-greeting-proximity"
                            pos_hint: {'center_x': 0.5}
                        MDRaisedButton :
                            text : "Report"
                            pos_hint: {'center_x': 0.75, 'center_y':.3}
                